{"ast":null,"code":"var _jsxFileName = \"/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Landing.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport { Redirect } from 'react-router-dom';\nimport 'firebase/firestore';\nimport { getAllColleges, getAllPostsforCollege } from '../firebase/FirestoreFunctions';\n\nfunction Landing() {\n  const [colleges, setCollege] = useState();\n  const [allPosts, setallPosts] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function getData() {\n      try {\n        let collegeList = await getAllColleges();\n        console.log(collegeList);\n        let allPost = await getAllPostsforCollege();\n        setLoading(false);\n        setCollege(collegeList);\n        setallPosts(allPost);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    getData();\n  }, []);\n\n  const handlePosts = async event => {\n    event.preventDefault();\n    let {\n      title,\n      value,\n      description,\n      category\n    } = event.target.elements;\n    let post = {\n      title: title.value,\n      authorId: currentUser.uid,\n      value: value.value,\n      description: description.value,\n      category: category.value\n    };\n\n    try {\n      await addPosts(currentUser.uid, post);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  if (currentUser) {\n    return React.createElement(Redirect, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  } else {\n    if (loading === false) {\n      return React.createElement(\"div\", {\n        className: \"Landing\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"This is the Landing page\"), colleges && colleges ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, colleges.map(item => {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, item.name));\n      })) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"NOT GETTING College DATA\"), allPosts && allPosts ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, allPosts.map(item => {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, item.category));\n      })) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"NOT GETTING Post DATA\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \" Login to post anything\"));\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Loading....\"));\n    }\n  }\n}\n\nexport default Landing;","map":{"version":3,"sources":["/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Landing.js"],"names":["React","useState","useEffect","Redirect","getAllColleges","getAllPostsforCollege","Landing","colleges","setCollege","allPosts","setallPosts","loading","setLoading","getData","collegeList","console","log","allPost","e","handlePosts","event","preventDefault","title","value","description","category","target","elements","post","authorId","currentUser","uid","addPosts","error","alert","map","item","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport '../App.css';\nimport { Redirect } from 'react-router-dom';\nimport 'firebase/firestore';\nimport { getAllColleges , getAllPostsforCollege} from '../firebase/FirestoreFunctions';\n\n\n\n\nfunction Landing() {\n\tconst [colleges, setCollege] = useState();\n\tconst [allPosts, setallPosts] = useState();\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tasync function getData() {\n\t\ttry{\n\t\t\tlet collegeList = await getAllColleges();\n\t\t\tconsole.log(collegeList)\n\t\t\tlet allPost = await getAllPostsforCollege()\n\t\t\tsetLoading(false)\n\t\t\tsetCollege(collegeList)\n\t\t\tsetallPosts(allPost)\n\t\t}catch(e){\n\t\t\tconsole.log(e)\n\t}\n}\n\t\tgetData();\n\t}, [])\n\n\tconst handlePosts = async (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tlet { title, value ,  description, category } = event.target.elements;\n\t\t\tlet post ={title:title.value, authorId:currentUser.uid, value:value.value ,description:description.value, category: category.value};\n\t\n\t\t\ttry {\n\t\t\t\tawait addPosts(currentUser.uid, post);\n\t\t\t} catch (error) {\n\t\t\t\talert(error);\n\t\t\t}\n\t\t};\n\n\tif(currentUser)\n\t{\n\t\treturn <Redirect to='/home' />;\n\t}\n\telse{\n\t\t\tif(loading === false)\n\t\t\t{\n\t\t\treturn (\n\t\t\t\t<div className='Landing'>\n\t\t\t\t\t<h2>This is the Landing page</h2>\n\n\t\t\t\t\t{colleges && colleges ? (<p>{colleges.map((item) => {\n\t\t\t\t\t\treturn (<div>\n\t\t\t\t\t\t\t\t\t<p>{item.name}</p>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t})}</p>) : (<p>NOT GETTING College DATA</p>)}\n\t\t\t\t\t\n\n\t\t\t\t\t{allPosts && allPosts ? (<p>{allPosts.map((item) => {\n\t\t\t\t\t\treturn (<div>\n\t\t\t\t\t\t\t\t\t<p>{item.category}</p>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t})}</p>) : (<p>NOT GETTING Post DATA</p>)}\n\t\t\t\t\t<p> Login to post anything</p>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\telse{\n\t\t\t\treturn(\n\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<p>Loading....</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t}\n\t\t}\n}\n\nexport default Landing;\n\n"]},"metadata":{},"sourceType":"module"}