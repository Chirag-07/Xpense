{"ast":null,"code":"var _jsxFileName = \"/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Home.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport '../App.css';\nimport { AuthContext } from \"../firebase/Auth\";\nimport 'firebase/firestore';\nimport { addPosts, getUser, getCollege, getAllColleges } from '../firebase/FirestoreFunctions';\n\nconst defcollogo = require('../assets/college-logo.jpg');\n\nfunction Home() {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [user, setUser] = useState();\n  const [college, setCollege] = useState();\n  const [collegeList, setCollegeList] = useState();\n  const [postList, setPostList] = useState();\n  const [collegePic, setCollegePic] = useState(defcollogo);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function getData() {\n      try {\n        let collegeList = await getAllColleges();\n        setCollegeList(collegeList);\n        let u = await getUser(currentUser.uid);\n        let collegeDetails = await getCollege(u.collegeId);\n        setPostList(collegeDetails.posts);\n        setLoading(false);\n        setUser(u);\n        setCollege(collegeDetails);\n\n        if (college.logo !== \"\") {\n          setCollegePic(college.logo);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    getData();\n  }, [currentUser, collegePic]);\n\n  const handlePosts = async event => {\n    event.preventDefault();\n    let {\n      title,\n      value,\n      description,\n      category\n    } = event.target.elements;\n    let post = {\n      title: title.value,\n      authorId: currentUser.uid,\n      value: value.value,\n      description: description.value,\n      category: category.value\n    };\n\n    try {\n      await addPosts(currentUser.uid, post);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  if (loading === false) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 4\n      }\n    }, \"This is the Home page\"), \"YOUR DETAILS !!!\", user ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, \"First Name: \", user.firstName, \"  \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 46\n      }\n    }), \"Last Name: \", user.lastName) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 86\n      }\n    }, \"NOT GETTING USER DATA\"), user && user ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \" POSTS BY USER: \", user.posts.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 8\n        }\n      }, \"Post Detail: \", item.title, \" : \", item.value), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 8\n        }\n      }, \"Post Description: \", item.description));\n    })) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 18\n      }\n    }, \"NOT GETTING USER DATA\"), \"YOUR COLLEGE DATA !!!\", college && college ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 10\n      }\n    }, \"Logo: \", collegePic ? /*#__PURE__*/React.createElement(\"img\", {\n      src: collegePic,\n      alt: \"collegepic\",\n      height: \"42\",\n      widht: \"42\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 34\n      }\n    }) : /*#__PURE__*/React.createElement(\"img\", {\n      src: collegePic,\n      alt: \"defaultpic\",\n      height: \"42\",\n      width: \"42\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 103\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 10\n      }\n    }, \"Name: \", college.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 10\n      }\n    }, \"City: \", college.city), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 10\n      }\n    }, \"Average Expenses: \", college.avgExpense), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 10\n      }\n    }, \"POSTS ABOUT COLLEGE: \", postList ? postList.map(post => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 12\n        }\n      }, \"Post Title: \", post.Title), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 12\n        }\n      }, \"Post Category: \", post.Category), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 12\n        }\n      }, \"Post Description: \", post.Description));\n    }) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 18\n      }\n    }, \"NO POSTS\"))) : null, \"LIST OF COLLEGES !!!\", collegeList && collegeList ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 35\n      }\n    }, collegeList.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: item.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 8\n        }\n      }, \"College Name: \", item.name), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 8\n        }\n      }, \"College Logo: \", item.logo === \"\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: item.logo,\n        alt: \"collegepic\",\n        height: \"42\",\n        widht: \"42\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 46\n        }\n      }) : /*#__PURE__*/React.createElement(\"img\", {\n        src: collegePic,\n        alt: \"defaultpic\",\n        height: \"42\",\n        widht: \"42\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 113\n        }\n      })));\n    })) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 18\n      }\n    }, \"NOT GETTING College DATA\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 4\n      }\n    }, \" ADD YOUR POSTS BELOW \"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: handlePosts,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, \"Title:\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"title\",\n      id: \"title\",\n      type: \"text\",\n      placeholder: \"Title\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }\n    }, \"Value:\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"value\",\n      id: \"value\",\n      type: \"textarea\",\n      placeholder: \"Value\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }\n    }, \"Description:\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"description\",\n      id: \"description\",\n      type: \"textarea\",\n      placeholder: \"Description\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 8\n      }\n    })), /*#__PURE__*/React.createElement(\"select\", {\n      id: \"category\",\n      name: \"category\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      key: \"rent\",\n      value: \"rent\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, \"RENT\"), /*#__PURE__*/React.createElement(\"option\", {\n      key: \"houses\",\n      value: \"houses\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, \"HOUSES\"), /*#__PURE__*/React.createElement(\"option\", {\n      key: \"groceries\",\n      value: \"groceries\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }, \"GROCERIES\"), /*#__PURE__*/React.createElement(\"option\", {\n      key: \"transport\",\n      value: \"transport\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 7\n      }\n    }, \"TRANSPORT\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 6\n      }\n    }, \" Post \")));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 21\n      }\n    }, \"Loading....\"));\n  }\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Home.js"],"names":["React","useContext","useState","useEffect","AuthContext","addPosts","getUser","getCollege","getAllColleges","defcollogo","require","Home","currentUser","user","setUser","college","setCollege","collegeList","setCollegeList","postList","setPostList","collegePic","setCollegePic","loading","setLoading","getData","u","uid","collegeDetails","collegeId","posts","logo","e","console","log","handlePosts","event","preventDefault","title","value","description","category","target","elements","post","authorId","error","alert","firstName","lastName","map","item","name","city","avgExpense","Title","Category","Description"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect } from 'react';\nimport '../App.css';\nimport { AuthContext } from \"../firebase/Auth\";\nimport 'firebase/firestore';\nimport {addPosts, getUser , getCollege, getAllColleges} from '../firebase/FirestoreFunctions';\n\nconst defcollogo = require('../assets/college-logo.jpg')\n\n\n\nfunction Home() {\t\n\tconst {currentUser} = useContext(AuthContext)\n\tconst [user, setUser] = useState();\n\tconst [college, setCollege] = useState();\n\tconst [collegeList, setCollegeList] = useState();\n\tconst [postList, setPostList] = useState();\n\tconst [collegePic, setCollegePic] = useState(defcollogo);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tasync function getData() {\n\t\ttry{\n\t\t\tlet collegeList = await getAllColleges();\n\t\t\tsetCollegeList(collegeList)\n\t\t\tlet u = await getUser(currentUser.uid);\n\t\t\tlet collegeDetails = await getCollege(u.collegeId);\n\t\t\tsetPostList(collegeDetails.posts);\n\t\t\tsetLoading(false)\n\t\t\tsetUser(u);\n\t\t\tsetCollege(collegeDetails)\n\t\t\tif(college.logo !== \"\"){\n\t\t\t\tsetCollegePic(college.logo)\n\t\t\t}\n\t\t}catch(e){\n\t\t\tconsole.log(e)\n\t}\n}\n\t\tgetData();\n\t}, [currentUser, collegePic])\n\n\tconst handlePosts = async (event) => {\n\t\t\t event.preventDefault();\n\t\t\tlet { title, value ,  description, category } = event.target.elements;\n\t\t\tlet post ={title:title.value, authorId:currentUser.uid, value:value.value ,description:description.value, category: category.value};\n\t\n\t\t\ttry {\n\t\t\t\tawait addPosts(currentUser.uid, post);\n\t\t\t} catch (error) {\n\t\t\t\talert(error);\n\t\t\t}\n\t\t};\n\tif(loading === false)\n\t{\n\treturn (\n\t\t<div className='home'>\n\t\t\t<h2>This is the Home page</h2>\n\t\t\tYOUR DETAILS !!!\n\t\t\t{user ? (<p>First Name: {user.firstName}  <br/>Last Name: {user.lastName}</p>) : (<p>NOT GETTING USER DATA</p>)}\n\t\t\t{user && user ? (<div> POSTS BY USER: {user.posts.map((item) => {\n\t\t\t\treturn (<div key=\"1\">\n\t\t\t\t\t\t\t<p>Post Detail: {item.title} : {item.value}</p>\n\t\t\t\t\t\t\t<p>Post Description: {item.description}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t})}</div>) : (<p>NOT GETTING USER DATA</p>)}\n\n\n\t\t\tYOUR COLLEGE DATA !!!\n\t\t\t{ college && college ? (<div>\n\t\t\t\t\t\t\t\t\t<p>Logo: {collegePic ? (<img src={collegePic} alt='collegepic' height=\"42\" widht=\"42\" />) : (<img src={collegePic} alt='defaultpic' height=\"42\" width=\"42\" />)}</p>\n\t\t\t\t\t\t\t\t\t<p>Name: {college.name}</p>\n\t\t\t\t\t\t\t\t\t<p>City: {college.city}</p>\n\t\t\t\t\t\t\t\t\t<p>Average Expenses: {college.avgExpense}</p>\n\t\t\t\t\t\t\t\t\t<div>POSTS ABOUT COLLEGE: {postList ? postList.map((post) => {\n\t\t\t\t\t\t\t\treturn (<div key=\"1\">\n\t\t\t\t\t\t\t\t\t\t\t<p>Post Title: {post.Title}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>Post Category: {post.Category}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p>Post Description: {post.Description}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}) : (<p>NO POSTS</p>)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>) : null } \n\n\n\n\t\t\tLIST OF COLLEGES !!!\n\t\t\t{collegeList && collegeList ? (<div>{collegeList.map((item) => {\n\t\t\t\treturn (<div key={item.name}>\n\t\t\t\t\t\t\t<p>College Name: {item.name}</p>\n\t\t\t\t\t\t\t<p>College Logo: {item.logo === \"\" ? (<img src={item.logo} alt='collegepic' height=\"42\" widht=\"42\"/>) : (<img src={collegePic} alt='defaultpic' height=\"42\" widht=\"42\" />)}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t})}</div>) : (<p>NOT GETTING College DATA</p>)}\n\n\n\n\t\t\t<p> ADD YOUR POSTS BELOW </p>\n\t\t\t<form onSubmit={handlePosts}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tTitle:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\t\tid='title'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tplaceholder='Title'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tValue:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='value'\n\t\t\t\t\t\t\t\tid='value'\n\t\t\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t\t\t\tplaceholder='Value'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\tid='description'\n\t\t\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t\t\t\tplaceholder='Description'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select id='category' name='category'>\n\t\t\t\t\t\t{/* {category.map(item => (\n\t\t\t\t\t\t\t<option key={item.id} value={item.name}>\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))} */}\n\t\t\t\t\t\t<option key='rent' value='rent'>\n\t\t\t\t\t\t\tRENT\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='houses' value='houses'>\n\t\t\t\t\t\t\tHOUSES\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='groceries' value='groceries'>\n\t\t\t\t\t\t\tGROCERIES\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='transport' value='transport'>\n\t\t\t\t\t\t\tTRANSPORT\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type='submit'> Post </button>\n\t\t\t\t</form> \n\t\t\t\t{/* <select id='college' name='college'>\n\t\t\t\t\t\t{colleges.map(item => (\n\t\t\t\t\t\t\t<option key={item.uid} value={item.name}>\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</select> */}\n\n\t\t</div>\n\t) }\n\telse{\n\t\treturn(\n            <div>\n                    <p>Loading....</p>\n            </div>\n            )\n\t}\n\n}\n\nexport default Home;\n\n"]},"metadata":{},"sourceType":"module"}