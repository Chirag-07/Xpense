{"ast":null,"code":"var _jsxFileName = \"/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Profile.js\";\nimport React from 'react';\nimport SignOutButton from './SignOut';\nimport '../App.css';\nimport ChangePassword from './ChangePassword';\nimport { AuthContext } from \"../firebase/Auth\";\nimport { useEffect, useContext, useState } from 'react';\nimport { getUser } from '../firebase/FirestoreFunctions';\n\nconst defpic = require('../assets/default-avatar.png');\n\nfunction Profile() {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [user, setUser] = useState();\n  const [loading, setLoading] = useState(true);\n  const [change, setChange] = useState(false);\n  const [defaultPic, setDefaultPic] = useState(defpic);\n  useEffect(() => {\n    async function getData() {\n      try {\n        let u = await getUser(currentUser.uid); // console.log(\"HERE\",u)\n\n        setLoading(false);\n        setUser(u);\n\n        if (u.photoURL !== \"\") {\n          setDefaultPic(u.photoURL);\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    getData();\n  }, [currentUser]);\n\n  if (!loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 4\n      }\n    }, \"Profile Page\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 4\n      }\n    }, user && user.photoURL ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 30\n      }\n    }, \"Profile Picture\", /*#__PURE__*/React.createElement(\"img\", {\n      src: defaultPic,\n      alt: \"profilePic\",\n      height: \"100\",\n      width: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 48\n      }\n    })) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 123\n      }\n    }, \"Default Picture\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 141\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: defaultPic,\n      alt: \"defaultpic\",\n      height: \"100\",\n      width: \"100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 146\n      }\n    })), user ? /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, \"First Name: \", user.firstName, \"  \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 46\n      }\n    }), \"Last Name: \", user.lastName) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 86\n      }\n    }, \"NOT GETTING USER DATA\"), user && user ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 23\n      }\n    }, \"MY POSTS: \", user.posts.map(item => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 10\n        }\n      }, \"Post Details: \", item.title, \" : \", item.value), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 10\n        }\n      }, \"Post Description: \", item.description));\n    })) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 20\n      }\n    }, \"NOT GETTING USER DATA\")), change ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(ChangePassword, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 19\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setChange(!change),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 38\n      }\n    }, \"Hide\")) : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => setChange(!change),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 101\n      }\n    }, \"Click to Change Password\"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 177\n      }\n    }), /*#__PURE__*/React.createElement(SignOutButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 4\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 3\n      }\n    }, \" Loading...\"));\n  }\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Profile.js"],"names":["React","SignOutButton","ChangePassword","AuthContext","useEffect","useContext","useState","getUser","defpic","require","Profile","currentUser","user","setUser","loading","setLoading","change","setChange","defaultPic","setDefaultPic","getData","u","uid","photoURL","e","console","log","firstName","lastName","posts","map","item","title","value","description"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SignOutButton from './SignOut';\nimport '../App.css';\nimport ChangePassword from './ChangePassword';\nimport { AuthContext } from \"../firebase/Auth\";\nimport {useEffect, useContext, useState} from 'react';\nimport {getUser} from '../firebase/FirestoreFunctions';\n\nconst defpic = require('../assets/default-avatar.png')\n\nfunction Profile() {\n\tconst {currentUser} = useContext(AuthContext);\n\tconst [user, setUser] = useState();\n\tconst [loading, setLoading] = useState(true);\n\tconst [change, setChange] = useState(false);\n\tconst [defaultPic, setDefaultPic] = useState(defpic);\n\t\n\tuseEffect(() => {\n\t\t\n\t\tasync function getData() {\n\t\t\ttry{\n\t\t\t\tlet u = await getUser(currentUser.uid);\n\t\t\t\t// console.log(\"HERE\",u)\n\t\t\t\tsetLoading(false)\n\t\t\t\tsetUser(u);\n\t\t\t\tif(u.photoURL !== \"\"){\n\t\t\t\t\tsetDefaultPic(u.photoURL)\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\tconsole.log(e)\n\t\t}\n\t}\n\t\tgetData();\n\t},[currentUser]);\n\n\tif(!loading){\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<h2>Profile Page</h2>\n\t\t\t<div className=\"profile\">\n\t\t\t{/* <img src={defaultPic} height=\"100\" widht=\"100\"/> */}\n\t\t\t{user && user.photoURL ? (<p>Profile Picture<img src={defaultPic} alt='profilePic' height=\"100\" width=\"100\" /></p>) : (<p>Default Picture<br/><img src={defaultPic} alt='defaultpic' height=\"100\" width=\"100\"/></p>)}\n\n\t\t\t{user ? (<p>First Name: {user.firstName}  <br/>Last Name: {user.lastName}</p>) : (<p>NOT GETTING USER DATA</p>)}\n\t\t\t\t\t{user && user ? (<div>MY POSTS: {user.posts.map((item) => {\n\t\t\t\t\t\treturn (<div key=\"1\">\n\t\t\t\t\t\t\t\t\t<p>Post Details: {item.title} : {item.value}</p>\n\t\t\t\t\t\t\t\t\t<p>Post Description: {item.description}</p>\n\t\t\t\t\t\t\t\t</div>)\n\t\t\t\t\t})}</div>) : (<p>NOT GETTING USER DATA</p>)}\t \n\t\t\t</div>\n\t\t\t{change ? <div><ChangePassword /> <button onClick={()=>setChange(!change)}>Hide</button></div> : <button onClick={()=>setChange(!change)}>Click to Change Password</button>} <br/>\n\t\t\t<SignOutButton />\n\t\t</div>\n\t);\n}else{\n\treturn( \n\t\t<div>\n\t\t<p> Loading...</p>\n\t\t</div>\n\t\t)\n\t}\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}