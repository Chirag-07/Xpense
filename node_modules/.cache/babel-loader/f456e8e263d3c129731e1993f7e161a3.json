{"ast":null,"code":"var _jsxFileName = \"/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Home.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport '../App.css';\nimport { AuthContext } from \"../firebase/Auth\";\nimport 'firebase/firestore';\nimport { addPosts, getUser, getAllPosts } from '../firebase/FirestoreFunctions';\n\nfunction Home() {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [uid, setUID] = useState(currentUser.uid);\n  const [user, setUser] = useState();\n  const [posts, setPosts] = useState();\n\n  async function hi() {\n    const u = await getUser(currentUser.uid);\n    console.log(\"HI : \", u);\n  }\n\n  hi();\n  useEffect(() => {\n    async function getData() {\n      try {\n        // const u = await getUser(\"zxFz2S5WM9QWqzkFJZVtdfux7O12\");\n        const u = await getUser(currentUser.uid);\n        console.log(u);\n        const p = await getAllPosts(currentUser.collegeId);\n        setUser(u); //setPosts(p);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    getData();\n    console.log(posts);\n  }, [uid]); // }\n\n  const handlePosts = async event => {\n    event.preventDefault(); // let { title, authorId, description, category } = event.target.elements;\n\n    let post = event.target.elements;\n\n    try {\n      await addPosts(currentUser.uid, post.value);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"This is the Home page\"), user ? React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, user.firstName) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"NOT GETTING USER DATA\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, currentUser.uid), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \" ADD YOUR POSTS BELOW \"), React.createElement(\"form\", {\n    onSubmit: handlePosts,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"Title:\", React.createElement(\"input\", {\n    className: \"form-control\",\n    name: \"title\",\n    id: \"title\",\n    type: \"text\",\n    placeholder: \"Title\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, \"AuthorId:\", React.createElement(\"input\", {\n    className: \"form-control\",\n    name: \"authorId\",\n    id: \"authorId\",\n    type: \"text\",\n    placeholder: \"AuthorId\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, \"Description:\", React.createElement(\"input\", {\n    className: \"form-control\",\n    name: \"description\",\n    id: \"description\",\n    type: \"textarea\",\n    placeholder: \"Description\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })), React.createElement(\"select\", {\n    id: \"category\",\n    name: \"category\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"option\", {\n    key: \"rent\",\n    value: \"rent\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, \"RENT\"), React.createElement(\"option\", {\n    key: \"houses\",\n    value: \"houses\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, \"HOUSES\"), React.createElement(\"option\", {\n    key: \"groceries\",\n    value: \"groceries\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"GROCERIES\"), React.createElement(\"option\", {\n    key: \"transport\",\n    value: \"transport\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"TRANSPORT\"))), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, \" Post \")));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Home.js"],"names":["React","useContext","useState","useEffect","AuthContext","addPosts","getUser","getAllPosts","Home","currentUser","uid","setUID","user","setUser","posts","setPosts","hi","u","console","log","getData","p","collegeId","e","handlePosts","event","preventDefault","post","target","elements","value","error","alert","firstName"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect } from 'react';\nimport '../App.css';\nimport { AuthContext } from \"../firebase/Auth\";\nimport 'firebase/firestore';\nimport {addPosts, getUser, getAllPosts} from '../firebase/FirestoreFunctions';\n\n\n\n\nfunction Home() {\t\n\tconst {currentUser} = useContext(AuthContext)\n\tconst [uid, setUID] = useState(currentUser.uid);\n\tconst [user, setUser] = useState();\n\tconst [posts, setPosts] = useState();\n\n\tasync function hi(){\n\tconst u = await getUser(currentUser.uid);\n\tconsole.log(\"HI : \" , u)\n\t}\n\thi()\n\n\tuseEffect(() => {\n\t\tasync function getData() {\n\t\ttry{\n\t\t\t// const u = await getUser(\"zxFz2S5WM9QWqzkFJZVtdfux7O12\");\n\t\t\tconst u = await getUser(currentUser.uid);\n\t\t\tconsole.log(u)\n\t\t\tconst p = await getAllPosts(currentUser.collegeId)\n\t\t\tsetUser(u);\n\t\t\t//setPosts(p);\n\t\t}catch(e){\n\t\t\tconsole.log(e)\n\t}\n}\n\t\tgetData();\n\t\tconsole.log(posts)\n\t}, [uid])\n// }\n\n\tconst handlePosts = async (event) => {\n\t\t\tevent.preventDefault();\n\t\t\t// let { title, authorId, description, category } = event.target.elements;\n\t\t\tlet post = event.target.elements;\n\t\n\t\t\ttry {\n\t\t\t\tawait addPosts(currentUser.uid, post.value);\n\t\t\t} catch (error) {\n\t\t\t\talert(error);\n\t\t\t}\n\t\t};\n\t\n\treturn (\n\t\t<div className='home'>\n\t\t\t<h2>This is the Home page</h2>\n\t\t\t{user ? (<p>{user.firstName}</p>) : (<p>NOT GETTING USER DATA</p>)}\n\t\t\t{/* {posts ? (<p>{posts}</p>) : (<p>NOT GETTING POSTS</p>)} */}\n\t\t\t<p>{currentUser.uid}</p>\n\n\t\t\t<p> ADD YOUR POSTS BELOW </p>\n\t\t\t<form onSubmit={handlePosts}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tTitle:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\t\tid='title'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tplaceholder='Title'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tAuthorId:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='authorId'\n\t\t\t\t\t\t\t\tid='authorId'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tplaceholder='AuthorId'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\tid='description'\n\t\t\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t\t\t\tplaceholder='Description'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select id='category' name='category'>\n\t\t\t\t\t\t{/* {category.map(item => (\n\t\t\t\t\t\t\t<option key={item.id} value={item.name}>\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))} */}\n\t\t\t\t\t\t<option key='rent' value='rent'>\n\t\t\t\t\t\t\tRENT\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='houses' value='houses'>\n\t\t\t\t\t\t\tHOUSES\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='groceries' value='groceries'>\n\t\t\t\t\t\t\tGROCERIES\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='transport' value='transport'>\n\t\t\t\t\t\t\tTRANSPORT\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type='submit'> Post </button>\n\t\n\t\t\t\t</form> \n\n\t\t</div>\n\t);\n\n}\n\nexport default Home;\n\n"]},"metadata":{},"sourceType":"module"}