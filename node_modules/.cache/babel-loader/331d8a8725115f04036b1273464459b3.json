{"ast":null,"code":"var _jsxFileName = \"/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Home.js\";\nimport React, { useContext, useState, useEffect } from 'react';\nimport '../App.css';\nimport { AuthContext } from \"../firebase/Auth\";\nimport 'firebase/firestore';\nimport { addPosts, getUser, getAllColleges } from '../firebase/FirestoreFunctions';\n\nfunction Home() {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [user, setUser] = useState();\n  const [colleges, setCollege] = useState();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    async function getData() {\n      try {\n        let collegeList = await getAllColleges();\n        console.log(collegeList);\n        let u = await getUser(currentUser.uid);\n        setLoading(false);\n        setUser(u);\n        setCollege(collegeList);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    getData();\n    console.log(user);\n    console.log(colleges);\n  }, [currentUser]);\n\n  const handlePosts = async event => {\n    event.preventDefault();\n    let {\n      title,\n      value,\n      description,\n      category\n    } = event.target.elements;\n    let post = {\n      title: title.value,\n      authorId: currentUser.uid,\n      value: value.value,\n      description: description.value,\n      category: category.value\n    };\n\n    try {\n      await addPosts(currentUser.uid, post);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  if (loading === false) {\n    return React.createElement(\"div\", {\n      className: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"This is the Home page\"), user ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, user.firstName, \"  \", user.lastName) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"NOT GETTING USER DATA\"), user && user ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, user.posts.map(item => {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, item.title, \" : \", item.value), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, item.description));\n    })) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"NOT GETTING USER DATA\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \" ADD YOUR POSTS BELOW \"), React.createElement(\"form\", {\n      onSubmit: handlePosts,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"Title:\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"title\",\n      id: \"title\",\n      type: \"text\",\n      placeholder: \"Title\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"Value:\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"value\",\n      id: \"value\",\n      type: \"textarea\",\n      placeholder: \"Value\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Description:\", React.createElement(\"input\", {\n      className: \"form-control\",\n      name: \"description\",\n      id: \"description\",\n      type: \"textarea\",\n      placeholder: \"Description\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"select\", {\n      id: \"category\",\n      name: \"category\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      key: \"rent\",\n      value: \"rent\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"RENT\"), React.createElement(\"option\", {\n      key: \"houses\",\n      value: \"houses\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"HOUSES\"), React.createElement(\"option\", {\n      key: \"groceries\",\n      value: \"groceries\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"GROCERIES\"), React.createElement(\"option\", {\n      key: \"transport\",\n      value: \"transport\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"TRANSPORT\"))), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \" Post \")));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Loading....\"));\n  }\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/vedadnya_98/Documents/GitHub/Xpense/firebase-auth/src/components/Home.js"],"names":["React","useContext","useState","useEffect","AuthContext","addPosts","getUser","getAllColleges","Home","currentUser","user","setUser","colleges","setCollege","loading","setLoading","getData","collegeList","console","log","u","uid","e","handlePosts","event","preventDefault","title","value","description","category","target","elements","post","authorId","error","alert","firstName","lastName","posts","map","item"],"mappings":"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","sourcesContent":["import React, {useContext, useState, useEffect } from 'react';\nimport '../App.css';\nimport { AuthContext } from \"../firebase/Auth\";\nimport 'firebase/firestore';\nimport {addPosts, getUser , getAllColleges} from '../firebase/FirestoreFunctions';\n\n\n\n\nfunction Home() {\t\n\tconst {currentUser} = useContext(AuthContext)\n\tconst [user, setUser] = useState();\n\tconst [colleges, setCollege] = useState();\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tasync function getData() {\n\t\ttry{\n\t\t\tlet collegeList = await getAllColleges();\n\t\t\tconsole.log(collegeList)\n\t\t\tlet u = await getUser(currentUser.uid);\n\t\t\tsetLoading(false)\n\t\t\tsetUser(u);\n\t\t\tsetCollege(collegeList)\n\t\t}catch(e){\n\t\t\tconsole.log(e)\n\t}\n}\n\t\tgetData();\n\t\tconsole.log(user)\n\t\tconsole.log(colleges)\n\t}, [currentUser])\n\n\tconst handlePosts = async (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tlet { title, value ,  description, category } = event.target.elements;\n\t\t\tlet post ={title:title.value, authorId:currentUser.uid, value:value.value ,description:description.value, category: category.value};\n\t\n\t\t\ttry {\n\t\t\t\tawait addPosts(currentUser.uid, post);\n\t\t\t} catch (error) {\n\t\t\t\talert(error);\n\t\t\t}\n\t\t};\n\tif(loading === false)\n\t{\n\treturn (\n\t\t<div className='home'>\n\t\t\t<h2>This is the Home page</h2>\n\t\t\t{user ? (<p>{user.firstName}  {user.lastName}</p>) : (<p>NOT GETTING USER DATA</p>)}\n\t\t\t{user && user ? (<p>{user.posts.map((item) => {\n\t\t\t\treturn (<div>\n\t\t\t\t\t\t\t<p>{item.title} : {item.value}</p>\n\t\t\t\t\t\t\t<p>{item.description}</p>\n\t\t\t\t\t\t</div>)\n\t\t\t})}</p>) : (<p>NOT GETTING USER DATA</p>)}\n\t\t\t<p> ADD YOUR POSTS BELOW </p>\n\t\t\t<form onSubmit={handlePosts}>\n\t\t\t\t\t<div className='form-group'>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tTitle:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='title'\n\t\t\t\t\t\t\t\tid='title'\n\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\tplaceholder='Title'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tValue:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='value'\n\t\t\t\t\t\t\t\tid='value'\n\t\t\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t\t\t\tplaceholder='Value'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label>\n\t\t\t\t\t\t\tDescription:\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName='form-control'\n\t\t\t\t\t\t\t\tname='description'\n\t\t\t\t\t\t\t\tid='description'\n\t\t\t\t\t\t\t\ttype='textarea'\n\t\t\t\t\t\t\t\tplaceholder='Description'\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<select id='category' name='category'>\n\t\t\t\t\t\t{/* {category.map(item => (\n\t\t\t\t\t\t\t<option key={item.id} value={item.name}>\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))} */}\n\t\t\t\t\t\t<option key='rent' value='rent'>\n\t\t\t\t\t\t\tRENT\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='houses' value='houses'>\n\t\t\t\t\t\t\tHOUSES\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='groceries' value='groceries'>\n\t\t\t\t\t\t\tGROCERIES\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option key='transport' value='transport'>\n\t\t\t\t\t\t\tTRANSPORT\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</select>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button type='submit'> Post </button>\n\t\t\t\t</form> \n\t\t\t\t{/* <select id='college' name='college'>\n\t\t\t\t\t\t{colleges.map(item => (\n\t\t\t\t\t\t\t<option key={item.uid} value={item.name}>\n\t\t\t\t\t\t\t\t{item.name}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\t\n\t\t\t\t\t\t</select> */}\n\n\t\t</div>\n\t)}\n\telse{\n\t\treturn(\n            <div>\n                    <p>Loading....</p>\n            </div>\n            )\n\t}\n\n}\n\nexport default Home;\n\n"]},"metadata":{},"sourceType":"module"}